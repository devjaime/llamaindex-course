import { OpenAPI } from "@llamaindex/cloud/api";
import { getEnv } from "@llamaindex/env";
import { DEFAULT_BASE_URL } from "./constants.js";
function getBaseUrl(baseUrl) {
    return baseUrl ?? getEnv("LLAMA_CLOUD_BASE_URL") ?? DEFAULT_BASE_URL;
}
export function getAppBaseUrl() {
    return OpenAPI.BASE.replace(/api\./, "");
}
export function initService({ apiKey, baseUrl } = {}) {
    OpenAPI.TOKEN = apiKey ?? getEnv("LLAMA_CLOUD_API_KEY");
    OpenAPI.BASE = getBaseUrl(baseUrl);
    if (!OpenAPI.TOKEN) {
        throw new Error("API Key is required for LlamaCloudIndex. Please pass the apiKey parameter");
    }
}
