"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    LLMAgent: function() {
        return LLMAgent;
    },
    LLMAgentWorker: function() {
        return LLMAgentWorker;
    }
});
const _Settings = require("../Settings.js");
const _base = require("./base.js");
const _utils = require("./utils.js");
class LLMAgentWorker extends _base.AgentWorker {
    taskHandler = _base.AgentRunner.defaultTaskHandler;
}
class LLMAgent extends _base.AgentRunner {
    constructor(params){
        (0, _utils.validateAgentParams)(params);
        const llm = params.llm ?? (_Settings.Settings.llm ? _Settings.Settings.llm : null);
        if (!llm) throw new Error("llm must be provided for either in params or Settings.llm");
        super({
            llm,
            chatHistory: params.chatHistory ?? [],
            systemPrompt: params.systemPrompt ?? null,
            runner: new LLMAgentWorker(),
            tools: "tools" in params ? params.tools : params.toolRetriever.retrieve.bind(params.toolRetriever),
            verbose: params.verbose ?? false
        });
    }
    createStore = _base.AgentRunner.defaultCreateStore;
    taskHandler = _base.AgentRunner.defaultTaskHandler;
}
